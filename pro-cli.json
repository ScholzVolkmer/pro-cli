{
    "env": "local",
    "type": "php",
    "scripts": {
        "install": {
            "command": {
                "setup-env": "cp -n .env.example .env && cp -n src/.env.example src/.env",
                "add-host": "grep '127.0.0.1\\s*dev.some-host.io' /etc/hosts > /dev/null || sudo sh -c 'echo \"127.0.0.1 dev.some-host.io\" >> /etc/hosts'",
                "create-ssl": "./scripts/create-ssl.sh",
                "composer-install": "project composer install",
                "npm-install": "project npm install",
                "create-db": "project create:db",
                "install-backend": "project install:backend",
                "compile-statics": "project npm run dev",
                "start-project": "project up"
            },
            "description": "Installs the application."
        },
        "create:db": {
            "command": "docker-compose -f docker-compose.local.yml exec db sh -c 'mysql -u\"$MYSQL_USER\" -p\"$MYSQL_ROOT_PASSWORD\" -e \"CREATE DATABASE IF NOT EXISTS $MYSQL_DATABASE\"'",
            "description": "Create the database."
        },
        "install:backend": {
            "command": "project artisan db:seed --class=InstallBackendSeeder",
            "description": "Install the backend and add default settings."
        }
    }
}
